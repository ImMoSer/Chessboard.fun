# Обзор Проекта (Project Overview)

Данный проект представляет собой интерактивную веб-платформу Chessboard.fun, предназначенную для любителей шахмат. Приложение предоставляет широкий спектр функций, включая различные тренировочные режимы, детальную статистику, мощные инструменты анализа и интеграцию с внешними сервисами, такими как Lichess API. Основная цель — предоставить полноценную и увлекательную среду для улучшения шахматных навыков.

# Технологический Стек (Technology Stack)

*   **Фронтенд**: Vue.js 3 (с Composition API), TypeScript
*   **Управление состоянием**: Pinia
*   **Маршрутизация**: Vue Router
*   **Интернационализация**: vue-i18n
*   **Сборка/Разработка**: Vite
*   **UI/Графика**: Chessground (для отображения шахматной доски)
*   **Шахматная логика**: chessops
*   **Шахматный движок**: Stockfish.js (локальный анализ), Nest.js (серверный движок)
*   **Бэкенд**: n8n.io и Nest.js (внешние компоненты, не входят в текущий фронтенд проект напрямую, но интегрированы)

# Архитектура Приложения (Application Architecture)

Приложение построено как одностраничное (SPA) с использованием фреймворка Vue.js. Основные архитектурные компоненты включают:

*   **Vue.js Components**: Интерфейс пользователя состоит из модульных и переиспользуемых Vue компонентов, организованных в каталоге `src/components`.
*   **Pinia Stores**: Глобальное состояние приложения управляется через Pinia. Каждый функциональный модуль (например, игра, аутентификация, UI) имеет свой собственный "store" для инкапсуляции состояния и логики, что обеспечивает чистоту и предсказуемость. Stores находятся в `src/stores`.
*   **Vue Router**: Управляет навигацией между различными представлениями (Views) приложения. Маршруты определены в `src/router/index.ts` и включают динамические параметры, навигационные охранники (`beforeEach`, `afterEach`) для контроля доступа и сброса состояния.
*   **Services**: Каталог `src/services` содержит службы, отвечающие за бизнес-логику, взаимодействие с API (LichessApiService), управление анализом (AnalysisService), интернационализацию (i18n) и т.д.
*   **Views**: Каталог `src/views` содержит основные компоненты-представления, каждое из которых соответствует определенному маршруту и отображает конкретную часть функционала приложения (например, `WelcomeView`, `FinishHimView`, `UserCabinetView`).

# Ключевой Функционал (Key Functionality)

Приложение предлагает разнообразный функционал:

*   **Игровые Режимы**:
    *   **Sandbox**: Песочница для свободного исследования и анализа позиций. Поддерживает различные движки и цвета.
    *   **Finish Him**: Режим для решения шахматных этюдов.
    *   **Attack**: Режим для тренировки атаки.
    *   **Tower**: Режим "Башня" с прогрессивной сложностью.
    *   **Tornado**: Режим "Торнадо" для быстрой игры или решения задач.
    *   **Advantage**: Режим для игры с определенным преимуществом.
*   **Аутентификация**: Интеграция с Lichess API для аутентификации пользователей. Авторизация требуется для многих игровых режимов и функций пользовательского кабинета.
*   **Интернационализация (i18n)**: Поддержка нескольких языков (например, `de`, `en`, `ru` в `src/locales`).
*   **Управление Темами**: Пользователь может выбирать различные визуальные темы приложения.
*   **Пользовательский Кабинет**: Просмотр статистики, настройка профиля и управление учетной записью.
*   **Информационные Страницы**: "О нас", "Цены", "Фан-клуб", "Записи".
*   **Анализ**: Встроенные инструменты анализа позиций, вероятно, использующие Stockfish.js.

# Структура Файлов и Каталогов (File and Directory Structure)

*   `src/`: Корневой каталог исходного кода.
    *   `assets/`: Глобальные стили (например, `main.css`).
    *   `components/`: Переиспользуемые Vue компоненты.
    *   `composables/`: Vue Composition API функции.
    *   `locales/`: Файлы локализации (`.json`).
    *   `router/`: Определение маршрутов (`index.ts`).
    *   `services/`: Бизнес-логика, API-взаимодействие, интернационализация, управление движками.
    *   `stores/`: Pinia stores для управления состоянием.
    *   `types/`: Определения типов TypeScript.
    *   `utils/`: Вспомогательные утилиты.
    *   `views/`: Основные компоненты-представления, соответствующие маршрутам.
    *   `App.vue`: Корневой компонент приложения.
    *   `main.ts`: Точка входа в приложение, инициализация Vue, Pinia, Router, i18n.
*   `public/`: Статические ресурсы (изображения, звуки, файлы движков Stockfish).
*   `package.json`: Метаданные проекта, зависимости и скрипты.
*   `vite.config.ts`: Конфигурация Vite.
*   `tsconfig.json`: Конфигурация TypeScript.
*   `eslint.config.ts`, `.prettierrc.json`: Конфигурация линтинга и форматирования.
*   `vitest.config.ts`: Конфигурация Vitest для тестов.

# Зависимости (Dependencies)

Ниже приведен список ключевых библиотек, используемых в проекте:

*   `vue`: Основной фреймворк для построения пользовательских интерфейсов.
*   `pinia`: Рекомендуемая библиотека для управления состоянием в Vue 3.
*   `vue-router`: Стандартная библиотека для маршрутизации в Vue приложениях.
*   `vue-i18n`: Библиотека для поддержки интернационализации/локализации.
*   `@lichess-org/chessground`: Высокопроизводительная библиотека для отображения интерактивной шахматной доски.
*   `chessops`: Библиотека для работы с шахматной логикой и данными.
*   `stockfish.js`: JavaScript-порт популярного шахматного движка Stockfish для клиентского анализа.
*   `echarts`, `vue-echarts`: Для построения графиков и визуализации данных.

# Разработка и Запуск (Development and Running)

Для работы с проектом используются следующие команды:

*   **Установка зависимостей**: `pnpm install`
*   **Запуск сервера разработки**: `pnpm dev`
*   **Сборка проекта для продакшена**: `pnpm build`
*   **Запуск модульных тестов**: `pnpm test:unit`
*   **Проверка типов**: `pnpm type-check`
*   **Линтинг кода**: `pnpm lint`
*   **Форматирование кода**: `pnpm format`
